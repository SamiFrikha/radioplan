/* ===========================================
   RadioPlan AI – Mobile Responsiveness
   Precise mobile optimizations per spec
   =========================================== */

/* ═══════════════════════════════════════════
   GLOBAL
   ═══════════════════════════════════════════ */
html,
body {
  overflow-x: hidden;
  -webkit-text-size-adjust: 100%;
}

/* Smooth native scrollbar */
.overflow-auto,
.overflow-x-auto {
  -webkit-overflow-scrolling: touch;
  scrollbar-width: thin;
  scrollbar-color: #94a3b8 transparent;
}

.overflow-auto::-webkit-scrollbar,
.overflow-x-auto::-webkit-scrollbar {
  height: 4px;
  width: 4px;
}

.overflow-auto::-webkit-scrollbar-thumb,
.overflow-x-auto::-webkit-scrollbar-thumb {
  background-color: #94a3b8;
  border-radius: 4px;
}

/* Slide-in animation */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0.5;
  }

  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-in.slide-in-from-right {
  animation: slideInRight 0.3s ease-out forwards;
}

/* Prevent iOS zoom on input focus */
@media (pointer: coarse) {

  select,
  input,
  textarea {
    font-size: 16px !important;
  }
}

/* ═══════════════════════════════════════════
   MOBILE VIEWPORT (max-width: 768px)
   ═══════════════════════════════════════════ */
@media (max-width: 768px) {

  /* ── 1. FONT SIZE REDUCTIONS ─────────── */
  body {
    font-size: 12px;
  }

  h1 {
    font-size: clamp(0.8rem, 3.5vw, 1rem) !important;
  }

  h2 {
    font-size: clamp(0.75rem, 3vw, 0.9rem) !important;
  }

  h3 {
    font-size: clamp(0.7rem, 2.8vw, 0.85rem) !important;
  }

  .text-2xl {
    font-size: 0.95rem !important;
  }

  .text-xl {
    font-size: 0.85rem !important;
  }

  .text-lg {
    font-size: 0.8rem !important;
  }

  .text-base {
    font-size: 0.75rem !important;
  }

  .text-sm {
    font-size: 0.65rem !important;
  }

  .text-xs {
    font-size: 0.575rem !important;
  }

  button {
    font-size: 0.625rem;
  }

  /* ── 2. LAYOUT / PADDING ─────────────── */
  main {
    padding: 0.25rem !important;
  }

  /* Reduce all padding utilities */
  .p-6 {
    padding: 0.5rem !important;
  }

  .p-4 {
    padding: 0.375rem !important;
  }

  .p-3 {
    padding: 0.25rem !important;
  }

  /* Reduce spacing utilities */
  .space-y-6>*+* {
    margin-top: 0.375rem !important;
  }

  .space-y-4>*+* {
    margin-top: 0.25rem !important;
  }

  .gap-6 {
    gap: 0.375rem !important;
  }

  .gap-4 {
    gap: 0.25rem !important;
  }

  .gap-3 {
    gap: 0.2rem !important;
  }

  .mb-6 {
    margin-bottom: 0.375rem !important;
  }

  .mb-4 {
    margin-bottom: 0.25rem !important;
  }

  .mt-4 {
    margin-top: 0.25rem !important;
  }

  /* ── 3. SCROLL-SNAP CAROUSEL ─────────── */
  /* Applied to containers that get .mobile-carousel class */
  .mobile-carousel {
    display: flex !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    scroll-padding: 0 0.25rem;
    gap: 0.375rem !important;
    padding-bottom: 0.25rem;
  }

  .mobile-carousel>* {
    scroll-snap-align: start;
    min-width: 100% !important;
    flex-shrink: 0;
  }

  /* Stat cards carousel: show each card full-width */
  .stat-cards-mobile {
    display: flex !important;
    overflow-x: auto !important;
    scroll-snap-type: x mandatory;
    -webkit-overflow-scrolling: touch;
    gap: 0.375rem !important;
    grid-template-columns: none !important;
  }

  .stat-cards-mobile>* {
    scroll-snap-align: start;
    min-width: 70% !important;
    flex-shrink: 0;
  }

  /* ── 4. TABLES ───────────────────────── */

  /* Table wrapper: smooth horizontal scroll */
  .table-scroll-wrapper {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
    touch-action: pan-x;
  }

  /* Remove ALL sticky positioning from first column */
  table th,
  table td {
    position: static !important;
    z-index: auto !important;
  }

  /* Tight cell padding + small font */
  table th,
  table td {
    padding: 4px 6px !important;
    font-size: 11px !important;
    line-height: 1.3 !important;
  }

  /* First column: explicit narrow width */
  table th:first-child,
  table td:first-child {
    width: 55px !important;
    min-width: 55px !important;
    max-width: 70px !important;
  }

  /* Day columns: narrower to fit 5 */
  table th:not(:first-child),
  table td:not(:first-child) {
    min-width: 0 !important;
  }

  /* Kill large min-widths */
  .min-w-\[1000px\] {
    min-width: 0 !important;
  }

  .min-w-\[700px\] {
    min-width: 0 !important;
  }

  .min-w-\[150px\] {
    min-width: 0 !important;
  }

  /* Period labels inside cells */
  table td .text-\[9px\] {
    font-size: 7px !important;
    padding: 0 2px !important;
  }

  /* Reduce cell row height */
  table td.h-20 {
    height: 3rem !important;
  }

  /* ── 5. DASHBOARD ────────────────────── */

  /* Main grid: single column */
  .grid.grid-cols-1.lg\:grid-cols-3 {
    grid-template-columns: 1fr !important;
    gap: 0.375rem !important;
  }

  /* Left panel: compact */
  .lg\:col-span-1 {
    max-height: 180px !important;
  }

  /* ── 6. ACTIVITY LOG PANEL ───────────── */
  .w-\[420px\] {
    width: 100vw !important;
    max-width: 100vw !important;
  }

  /* ── 7. MODALS ───────────────────────── */
  div[class*="max-w-md"],
  div[class*="max-w-lg"],
  div[class*="max-w-xl"],
  div[class*="max-w-2xl"] {
    max-width: 96vw !important;
    margin: 0.25rem auto !important;
  }

  /* ── 8. ACTIVITY TABS ────────────────── */
  .activity-tabs {
    overflow-x: auto !important;
    -webkit-overflow-scrolling: touch;
  }

  .activity-tabs button {
    padding: 0.2rem 0.5rem !important;
    font-size: 10px !important;
    white-space: nowrap;
    flex-shrink: 0;
  }
}

/* ═══════════════════════════════════════════
   VERY SMALL PHONE (< 380px)
   ═══════════════════════════════════════════ */
@media (max-width: 380px) {
  body {
    font-size: 11px;
  }

  h1 {
    font-size: 0.8rem !important;
  }

  table th:first-child,
  table td:first-child {
    width: 45px !important;
    min-width: 45px !important;
  }

  table th,
  table td {
    padding: 3px 4px !important;
    font-size: 10px !important;
  }

  .stat-cards-mobile>* {
    min-width: 80% !important;
  }
}

/* ═══════════════════════════════════════════
   TABLET (768px - 1024px)
   ═══════════════════════════════════════════ */
@media (min-width: 769px) and (max-width: 1024px) {
  main {
    padding: 0.75rem !important;
  }
}